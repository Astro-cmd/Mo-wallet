{% load static %}

{% block title %}Dashboard{% endblock %}

{% block content %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mo-Wallet Dashboard</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="{% static 'css/dashboard.css' %}">
</head>
<body>
    <div class="dashboard-container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <div class="logo">
                    <div class="logo-icon">
                        <i class="fas fa-wallet"></i>
                    </div>
                    <span class="logo-text">Mo-Wallet</span>
                </div>
                <button class="toggle-btn">
                    <i class="fas fa-chevron-left"></i>
                </button>
            </div>

            <nav class="nav-menu">
                <div class="nav-item active">
                    <a href="#" class="nav-link">
                        <span class="nav-icon">
                            <i class="fas fa-tachometer-alt"></i>
                        </span>
                        <span class="nav-text">Dashboard</span>
                    </a>
                </div>
                <div class="nav-item">
                    <a href="#" class="nav-link">
                        <span class="nav-icon">
                            <i class="fas fa-exchange-alt"></i>
                        </span>
                        <span class="nav-text">Transactions</span>
                    </a>
                </div>
                <div class="nav-item">
                    <a href="#" class="nav-link">
                        <span class="nav-icon">
                            <i class="fas fa-wallet"></i>
                        </span>
                        <span class="nav-text">Wallets</span>
                    </a>
                </div>
                <div class="nav-item">
                    <a href="{% url 'budget:budgets' %}" class="nav-link">
                        <span class="nav-icon">
                            <i class="fas fa-chart-pie"></i>
                        </span>
                        <span class="nav-text">Budgets</span>
                    </a>
                </div>
                <div class="nav-item">
                    <a href="{% url 'analytics:analytics' %}" class="nav-link">
                        <span class="nav-icon">
                            <i class="fas fa-chart-line"></i>
                        </span>
                        <span class="nav-text">Analytics</span>
                    </a>
                </div>
                <div class="nav-item">
                    <a href="#" class="nav-link">
                        <span class="nav-icon">
                            <i class="fas fa-bullseye"></i>
                        </span>
                        <span class="nav-text">Goals</span>
                    </a>
                </div>
                <div class="nav-item">
                    <a href="{% url 'users:logout' %}" class="nav-link">
                        <span class="nav-icon">
                            <i class="fas fa-sign-out-alt me-1"></i>
                        </span>
                        <span class="nav-text">Logout</span>
                    </a>
                </div>
            
                <div class="nav-item">
                    <a href="#" class="nav-link">
                        <span class="nav-icon">
                            <i class="fas fa-cog"></i>
                        </span>
                        <span class="nav-text">Settings</span>
                    </a>
                </div>
            </nav>

            <div class="sidebar-footer">
                <div class="user-profile">
                    <img src="https://ui-avatars.com/api/?name=John+Doe&background=4F46E5&color=fff" alt="User" class="user-avatar">
                    <div class="user-info">
                        <span class="user-name">{{user.username}}</span>
                        <span class="user-email">{{user.email}}</span>
                    </div>
                </div>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <div class="header">
                <button class="mobile-menu-btn">
                    <i class="fas fa-bars"></i>
                </button>
                <div class="page-title">
                    <h1>Welcome Back, {{user.username}}</h1>
                    <p>Here's your financial overview</p>
                </div>
                <div class="header-actions">
                    <div class="search-bar">
                        <i class="fas fa-search search-icon"></i>
                        <input type="text" placeholder="Search transactions, budgets...">
                    </div>
                    <button class="notification-btn">
                        <i class="fas fa-bell"></i>
                        <span class="notification-badge">3</span>
                    </button>
                </div>
            </div>

            <!-- Dashboard Grid -->
            <div class="dashboard-grid">
                <!-- Stats Section -->
                <div class="stats-container dashboard-section">
                    <div class="stats-grid">
                        <div class="stat-card money-in">
                            <div class="stat-header">
                                <div class="stat-icon">
                                    <i class="fas fa-arrow-circle-down"></i>
                                </div>
                                <div>
                                    <div class="stat-title">Money In</div>
                                    <div class="stat-value">KES 18,972</div>
                                    <div class="stat-trend trend-up">
                                        <i class="fas fa-arrow-up trend-icon"></i>
                                        12% from last month
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="stat-card money-out">
                            <div class="stat-header">
                                <div class="stat-icon">
                                    <i class="fas fa-arrow-circle-up"></i>
                                </div>
                                <div>
                                    <div class="stat-title">Money Out</div>
                                    <div class="stat-value">KES 15,040</div>
                                    <div class="stat-trend trend-down">
                                        <i class="fas fa-arrow-down trend-icon"></i>
                                        5% from last month
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="stat-card">
                            <div class="stat-header">
                                <div class="stat-icon">
                                    <i class="fas fa-piggy-bank"></i>
                                </div>
                                <div>
                                    <div class="stat-title">Savings Rate</div>
                                    <div class="stat-value">21%</div>
                                    <div class="stat-trend trend-up">
                                        <i class="fas fa-arrow-up trend-icon"></i>
                                        3% from last month
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="stat-card">
                            <div class="stat-header">
                                <div class="stat-icon">
                                    <i class="fas fa-chart-line"></i>
                                </div>
                                <div>
                                    <div class="stat-title">Net Worth</div>
                                    <div class="stat-value">KES 125,400</div>
                                    <div class="stat-trend trend-up">
                                        <i class="fas fa-arrow-up trend-icon"></i>
                                        8% from last month
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Current Wallet Container -->
                <div class="wallet-container dashboard-section">
                    <div class="wallet-info-card">
                        <div class="wallet-header">
                            <h2 class="wallet-title">Main Wallet</h2>
                            <div class="wallet-balance">KES 15,000</div>
                        </div>

                        <div class="wallet-details">
                            <div class="wallet-section">
                                <h3 class="section-title"><i class="fas fa-exchange-alt"></i> Recent Transactions</h3>
                                
                                <table class="transactions-table">
                                    <thead>
                                        <tr>
                                            <th>Transaction</th>
                                            <th>Amount</th>
                                            <th>Date</th>
                                            <th>Status</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>
                                                <div class="transaction-category">
                                                    <div class="category-icon">
                                                        <i class="fas fa-utensils"></i>
                                                    </div>
                                                    <div>
                                                        <div class="transaction-name">Restaurant</div>
                                                        <div class="transaction-description">Dinner with friends</div>
                                                    </div>
                                                </div>
                                            </td>
                                            <td class="transaction-amount expense">- KES 1,200</td>
                                            <td class="transaction-date">Today, 19:30</td>
                                            <td><span class="transaction-status status-completed">Completed</span></td>
                                        </tr>
                                        <tr>
                                            <td>
                                                <div class="transaction-category">
                                                    <div class="category-icon">
                                                        <i class="fas fa-shopping-bag"></i>
                                                    </div>
                                                    <div>
                                                        <div class="transaction-name">Supermarket</div>
                                                        <div class="transaction-description">Weekly groceries</div>
                                                    </div>
                                                </div>
                                            </td>
                                            <td class="transaction-amount expense">- KES 3,500</td>
                                            <td class="transaction-date">Yesterday, 14:15</td>
                                            <td><span class="transaction-status status-completed">Completed</span></td>
                                        </tr>
                                        <tr>
                                            <td>
                                                <div class="transaction-category">
                                                    <div class="category-icon">
                                                        <i class="fas fa-money-bill-wave"></i>
                                                    </div>
                                                    <div>
                                                        <div class="transaction-name">Salary</div>
                                                        <div class="transaction-description">Monthly salary</div>
                                                    </div>
                                                </div>
                                            </td>
                                            <td class="transaction-amount income">+ KES 45,000</td>
                                            <td class="transaction-date">Mar 1, 08:00</td>
                                            <td><span class="transaction-status status-completed">Completed</span></td>
                                        </tr>
                                        <tr>
                                            <td>
                                                <div class="transaction-category">
                                                    <div class="category-icon">
                                                        <i class="fas fa-bus"></i>
                                                    </div>
                                                    <div>
                                                        <div class="transaction-name">Transport</div>
                                                        <div class="transaction-description">Monthly bus pass</div>
                                                    </div>
                                                </div>
                                            </td>
                                            <td class="transaction-amount expense">- KES 2,500</td>
                                            <td class="transaction-date">Feb 28, 10:45</td>
                                            <td><span class="transaction-status status-completed">Completed</span></td>
                                        </tr>
                                        <tr>
                                            <td>
                                                <div class="transaction-category">
                                                    <div class="category-icon">
                                                        <i class="fas fa-gamepad"></i>
                                                    </div>
                                                    <div>
                                                        <div class="transaction-name">Entertainment</div>
                                                        <div class="transaction-description">Movie tickets</div>
                                                    </div>
                                                </div>
                                            </td>
                                            <td class="transaction-amount expense">- KES 1,800</td>
                                            <td class="transaction-date">Feb 26, 20:30</td>
                                            <td><span class="transaction-status status-completed">Completed</span></td>
                                        </tr>
                                    </tbody>
                                </table>

                                <button class="btn btn-primary btn-view-all">
                                    View All Transactions <i class="fas fa-chevron-right"></i>
                                </button>
                            </div>

                            <div class="wallet-section">
                                <h3 class="section-title"><i class="fas fa-wallet"></i> Wallet Details</h3>
                                
                                <div class="wallet-meta">
                                    <div style="margin-bottom: 1rem;">
                                        <div style="color: var(--light-gray); font-size: 0.9rem;">Account Number</div>
                                        <div style="font-weight: 500;">1234567890</div>
                                    </div>
                                    
                                    <div style="margin-bottom: 1rem;">
                                        <div style="color: var(--light-gray); font-size: 0.9rem;">Currency</div>
                                        <div style="font-weight: 500;">Kenyan Shilling (KES)</div>
                                    </div>
                                    
                                    <div style="margin-bottom: 1rem;">
                                        <div style="color: var(--light-gray); font-size: 0.9rem;">Created On</div>
                                        <div style="font-weight: 500;">January 15, 2023</div>
                                    </div>
                                    
                                    <div style="margin-bottom: 1rem;">
                                        <div style="color: var(--light-gray); font-size: 0.9rem;">Last Transaction</div>
                                        <div style="font-weight: 500;">Today, 19:30</div>
                                    </div>
                                </div>

                                <button class="btn btn-primary" style="width: 100%; margin-top: 1rem;">
                                    <i class="fas fa-exchange-alt"></i> Transfer Money
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Goals Section -->
                <div class="goals-container dashboard-section">
                    <div class="goals-card">
                        <div class="card-header">
                            <div class="card-icon">
                                <i class="fas fa-bullseye"></i>
                            </div>
                            <div>
                                <h3 class="card-title">Your Goals</h3>
                                <p class="card-subtitle">2 active goals</p>
                            </div>
                        </div>

                        <div class="goal-list">
                            <div class="goal-item">
                                <div class="goal-header">
                                    <div class="goal-title">New Laptop</div>
                                    <div class="goal-amount">KES 45,000</div>
                                </div>
                                <div class="progress-container">
                                    <div class="progress-info">
                                        <span>KES 12,500 saved</span>
                                        <span>28%</span>
                                    </div>
                                    <div class="progress-bar">
                                        <div class="progress-fill" style="width: 28%"></div>
                                    </div>
                                </div>
                            </div>

                            <div class="goal-item">
                                <div class="goal-header">
                                    <div class="goal-title">Vacation</div>
                                    <div class="goal-amount">KES 30,000</div>
                                </div>
                                <div class="progress-container">
                                    <div class="progress-info">
                                        <span>KES 18,000 saved</span>
                                        <span>60%</span>
                                    </div>
                                    <div class="progress-bar">
                                        <div class="progress-fill" style="width: 60%"></div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <button class="btn btn-primary btn-view-all">
                            View All Goals <i class="fas fa-chevron-right"></i>
                        </button>
                    </div>
                </div>

                <!-- Budgets Section -->
                <div class="budgets-container dashboard-section">
                    <div class="budgets-card">
                        <div class="card-header">
                            <div class="card-icon">
                                <i class="fas fa-chart-pie"></i>
                            </div>
                            <div>
                                <h3 class="card-title">Monthly Budgets</h3>
                                <p class="card-subtitle">KES 15,040 spent of KES 25,000</p>
                            </div>
                        </div>

                        <div class="budget-categories">
                            <div class="category-item">
                                <div class="category-header">
                                    <div class="category-icon">
                                        <i class="fas fa-utensils"></i>
                                    </div>
                                    <div class="category-name">Food & Dining</div>
                                </div>
                                <div class="category-progress">
                                    <div class="category-amount">
                                        <span>KES 4,200</span>
                                        <span>84%</span>
                                    </div>
                                    <div class="progress-bar">
                                        <div class="progress-fill" style="width: 84%; background: #EF4444;"></div>
                                    </div>
                                    <div class="category-meta">Budget: KES 5,000</div>
                                </div>
                            </div>

                            <div class="category-item">
                                <div class="category-header">
                                    <div class="category-icon">
                                        <i class="fas fa-bus"></i>
                                    </div>
                                    <div class="category-name">Transport</div>
                                </div>
                                <div class="category-progress">
                                    <div class="category-amount">
                                        <span>KES 3,500</span>
                                        <span>70%</span>
                                    </div>
                                    <div class="progress-bar">
                                        <div class="progress-fill" style="width: 70%; background: #F59E0B;"></div>
                                    </div>
                                    <div class="category-meta">Budget: KES 5,000</div>
                                </div>
                            </div>

                            <div class="category-item">
                                <div class="category-header">
                                    <div class="category-icon">
                                        <i class="fas fa-home"></i>
                                    </div>
                                    <div class="category-name">Housing</div>
                                </div>
                                <div class="category-progress">
                                    <div class="category-amount">
                                        <span>KES 5,000</span>
                                        <span>50%</span>
                                    </div>
                                    <div class="progress-bar">
                                        <div class="progress-fill" style="width: 50%; background: #10B981;"></div>
                                    </div>
                                    <div class="category-meta">Budget: KES 10,000</div>
                                </div>
                            </div>

                            <div class="category-item">
                                <div class="category-header">
                                    <div class="category-icon">
                                        <i class="fas fa-gamepad"></i>
                                    </div>
                                    <div class="category-name">Entertainment</div>
                                </div>
                                <div class="category-progress">
                                    <div class="category-amount">
                                        <span>KES 1,200</span>
                                        <span>24%</span>
                                    </div>
                                    <div class="progress-bar">
                                        <div class="progress-fill" style="width: 24%; background: #8B5CF6;"></div>
                                    </div>
                                    <div class="category-meta">Budget: KES 5,000</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Analytics Section -->
                <div class="analytics-container dashboard-section">
                    <div class="analytics-card">
                        <div class="card-header">
                            <div class="card-icon">
                                <i class="fas fa-chart-line"></i>
                            </div>
                            <div>
                                <h3 class="card-title">Spending Analytics</h3>
                                <p class="card-subtitle">Last 6 months overview</p>
                            </div>
                        </div>

                        <div class="chart-container">
                            <canvas id="analyticsChart"></canvas>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>
    

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="{% static 'js/dashboard.js' %}"></script>
</body>
</html>
{% endblock %}